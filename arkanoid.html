<!-- Dawid Kozak Projekt Arkanoid ISA 2015-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Arkanoid DK</title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        canvas {
            background: #eee;
            display: block;
            margin: 0 auto;
        }

        @font-face {
            font-family: Arka_solid;
            src: url(css/Arka_solid.ttf) format('truetype');
        }
    </style>
</head>
<body style="font-family: Arka_solid;">
    <canvas id="myLeftCanvas" style="float: left;"></canvas>
    <div style="float: left;">
        <canvas id="myCanvas"></canvas>
    </div>
    <canvas id="myRightCanvas" style="float: left;"></canvas>


<script src="cons.js"></script>
<script src="left_canvas.js"></script>
<script src="right_canvas.js"></script>
<script src="cons.js"></script>
<script src="listeners.js"></script>
<script src="menu.js"></script>
<script src="balls.js"></script>
<script src="bricks.js"></script>
<script src="paddle.js"></script>
<script src="collision.js"></script>
<script src="tekst.js"></script>

<script>

    function draw() {
        drawLeftMenu();
        drawRightMenu();

        if(newGame==1) { //menu
//            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.beginPath();
            ctx.rect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "black";
            ctx.fill();
            ctx.closePath();
            drawMenu();
        } else if (newGame==2) { //menu after game
//            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.beginPath();
            ctx.rect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "black";
            ctx.fill();
            ctx.closePath();
            drawBricks();
            drawBall();
            drawPaddle();
            drawScore();
            drawLives();
            drawWinMenu();
        } else if(newGame==3) { //leaderboard
//            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.beginPath();
            ctx.rect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "black";
            ctx.fill();
            ctx.closePath();
            drawLeaderboard();
        } else { //game
//            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.beginPath();
            ctx.rect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "black";
            ctx.fill();
            ctx.closePath();
            drawBricks();
            drawBall();
            drawPaddle();
            updateBall();
            updatePaddle();
            drawScore();
            drawLives();
            collisionDetection();
        }
        requestAnimationFrame(draw);
    }

    initBalls();
    initBricks();
    initializeKeyListeners();
    draw();

</script>

</body>
</html>
